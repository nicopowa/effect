(function(){'use strict';var e=this||self;function p(a,c){a=a.split(".");var b=e;a[0]in b||"undefined"==typeof b.execScript||b.execScript("var "+a[0]);for(var f;a.length&&(f=a.shift());)a.length||void 0===c?b[f]&&b[f]!==Object.prototype[f]?b=b[f]:b=b[f]={}:b[f]=c};function q(a,c,b,f,d,k,g){d=d++||1;this.a={b:+a.getAttribute("data-ef")||++q.w,f:a,h:d,L:d,c:0,l:{},i:c,u:b,K:f||"no",F:k||!1,v:g||function(){},J:2};a.setAttribute("data-ef",this.a.b);console.log("effect",this.a.b,this.a.f.nodeName,this.a.i,"frames","delay",this.a.h)}q.prototype.play=function(){this.a.c=0;var a=this,c=new Promise(function(b){a.a.C=b});r(a.a);return c};q.prototype.stop=function(){return t(q,this.a.b)};
function r(a){var c=q;a.F&&t(c,a.b);c.a.push(a);c.g||(console.log("start frame loop"),c.g=window.requestAnimationFrame(function(b){c.j=b;c.m(c.j)}))}function t(a,c){a.a=a.a.filter(function(b){return b.b!=c});return c}
q.m=function(a){var c=this;if(!this.a.length)return console.log("end frame loop"),this.g=0;var b=Math.round(.06*(a-this.j));1<b&&console.log("drop",b-1);this.j=a;this.g=window.requestAnimationFrame(this.m.bind(this));for(this.a=this.a.reduce(function(f,d){if(0<--d.h)f.push(d);else{if(0===d.h){var k=q;for(l in d.u){for(var g=w(k,d.f.style[l]||window.getComputedStyle(d.f).getPropertyValue(l)),m=w(k,d.u[l]),u=[],n=[],h=0;h<g.length;h++)isNaN(g[h])||n.push(h);for(h=m.length;h<g.length;h++)m.push(g[h]);
for(h=0;h<n.length;h++)u.push(m[n[h]]-g[n[h]]);d.l[l]={s:n,A:u,o:g};console.log(l+" FROM "+g.join("")+" TO "+m.join(""))}}d.c=Math.min(d.i,d.c+b);for(var v in d.l){k=d.l[v];var l=k.o.slice(0);for(g=0;g<k.s.length;g++)m=k.s[g],l[m]=q[d.K](d.c,k.o[m],k.A[g],d.i).toFixed(d.J);d.f.style[v]=l.join("")}d.c<d.i?f.push(d):c.done.push(d)}return f},[]);this.done.length;)a=this.done.shift(),console.log(a.b+" end"),a.h=a.L,a.C(),a.v(a.f)};q.D=function(a,c,b,f){return b*a/f+c};
q.I=function(a,c,b,f){return-b*((a=a/f-1)*a*a*a-1)+c};q.G=function(a,c,b,f){return b*(a/=f)*a*a*a+c};q.H=function(a,c,b,f){return 1>(a/=f/2)?b/2*a*a+c:-b/2*(--a*(a-2)-1)+c};function w(a,c){return String(c).split(a.B).filter(Boolean).map(function(b){return isNaN(b)?b:+b})}p("Effect",q);q.quartInOut=q.H;q.quartIn=q.G;q.quartOut=q.I;q.no=q.D;q.prototype.stop=q.prototype.stop;q.prototype.play=q.prototype.play;var x=q;x.w=0;x.g=0;x.a=[];x.done=[];x.B=/(-?\d+(?:.\d+)?(?:e-?\d+)?)/;p("DEBUG",!0);}).call(this);
